#	SCCS Id: @(#)dungeon.def	3.3	96/03/10
# Copyright (c) 1990-92 by M. Stephenson
# NetHack may be freely redistributed.  See license for details.
#
# The dungeon description file for Slash'em.
# Modified by KMH for the balance patch.
#
# Note:   The order of the definition of dungeons in this file
#         reflects in their order of creation in the real dungeon.
#         The "Main" branch must *always* be first.
#		Also note that the order of the dungeons in this file
#		determines the order in which branch levels are assigned.
#		If two dungeons have overlapping ranges for their entry
#		points, then you should list the dungeon with the _least_
#		number of choices for its branch level _first_.

# Lots of changes, additions etc. by Amy.

### The Dungeons of Doom ###
# The main dungeon is from 42 to 47 levels deep...
# [Tom] stretched it out to make it a little more interesting, and
# have more "normal" levels, because the special ones were more
# frequent than normal ones!
# fixed so it always has 40 levels due to that annoying hardcoded dungeon level limit --Amy
DUNGEON:        "The Dungeons of Doom" "D" (40, 0)
ALIGNMENT:      unaligned


# Early levels, to the Oracle
#   KMH -- The Gnomish Mines are an important source of essential
#   items for low-level characters: food, armor, and tools.  Even a
#   short stay in the mines pays off.  Slash moved the entrance
#   deeper, penalizing many characters.  The balance patch restores
#   the entrance to levels 2 to 4.
BRANCH:		"The Gnomish Mines" @ (2, 3)

#
#   New mall is on levels 5 to 6, 75% chance.
#   There shouldn't be any other special levels down to the Oracle.
#   This allows a weak character to plunge to the Oracle, then return
#   to the Mines.
RNDLEVEL:	"mall" "T" @ (5, 2) 75 3
LEVALIGN:	lawful
LEVELDESC:	town
#
#   Oracle on levels 7 to 9.
LEVEL:		"oracle" "O" @ (7, 3) 70
LEVALIGN:	neutral
BRANCH:	"Sokoban" @ (8, 2) up -1
BRANCH:	"Town" @ (10, 3) up -1


# Levels between the Oracle and the Quest.
#   There's no guarantee that all will be created.
RNDLEVEL:		"rats" "R" @ (10, 2) 20 3
RNDLEVEL:	"kobold" "K" @ (11, 2) 20 6
BRANCH: 	"Grund's Stronghold" @ (12, 2)


# The rogue level (if required), on levels 15 to 19. The portal to one
#   of the quest levels may also be on this level. The rogue level is not
#   defined by default in Slash'EM. The dungeon is crowded enough already.
%REINCARNATION LEVEL: "rogue" "R" @ (15, 5)


# The quests, on levels 15 to 39 (changed by Amy, used to be 15 to 19).
#   These levels should not be shared with other special levels
#   or branches, else the quests may not be generated!
#   But usually the game is smart enough to not place a branch on a level that already has a branch.
BRANCH:	"The Quest" @ (15, 25) portal
BRANCH:	"Lawful Quest" @ (15, 25) portal
BRANCH:	"Neutral Quest" @ (15, 25) portal
BRANCH:	"Chaotic Quest" @ (15, 25) portal


# Post-quest levels
#   Now all the branches... stretching all along the dungeon
#   Put the branches with the least number of choices first
BRANCH: 	"The Temple of Moloch" @ (29, 11)
BRANCH: 	"The Giant Caverns" @ (29, 11)
BRANCH:		"The Sunless Sea" @ (27, 13)
BRANCH:		"The Spider Caves" @ (26, 14)
BRANCH: 	"One-eyed Sam's Market" @ (22, 18) portal
BRANCH: 	"The Lost Tomb" @ (21, 19)
BRANCH: 	"The Wyrm Caves" @ (20, 20)

#   And the levels...
RNDLEVEL:		"nymph" "N" @ (23, 17) 25 5
RNDLEVEL:	"bigrm" "B" @ (20, 20) 75 39
RNDLEVEL:	"exmall" "Y" @ (25, 15) 75 6
LEVALIGN:		chaotic
LEVELDESC:	town
#   Storage room (treasure) on levels 19-26, 66% of the time
#   "Unused 'cause they suck"?
RNDLEVEL:	"stor" "S" @ (19, 21) 30 6
#   Rounding out the bottom levels
LEVEL:		"guild" "G" @ (26, 14) 10




LEVEL:		"rndmaze" "Z" @ (5, 35) 30
LEVEL:		"rndmazea" "Q" @ (5, 35) 30
RNDLEVEL:	"intpla" "J" @ (5, 35) 30 5
LEVEL:		"makemais" "C" @ (5, 35) 30
LEVEL:		"makemase" "D" @ (5, 35) 30
RNDLEVEL:          "unhck" "X" @ (5, 35) 30 87
RNDLEVEL:          "unhck" "X" @ (5, 35) 30 87
RNDLEVEL:          "unhck" "X" @ (5, 35) 30 87
LEVEL:          "forge" "F" @ (5, 35) 20
LEVEL:          "hitch" "H" @ (5, 35) 5
LEVEL:		"compu" "P" @ (5, 35) 10 
LEVEL:		"key" "L" @ (5, 35) 10


# The famous Fort Ludios...
BRANCH:			"Fort Ludios" @ (23, 4) portal


# Medusa and the castle.  There should be nothing in between.
RNDLEVEL:		"medusa" "none" @ (-5, 4) 7
LEVALIGN:		chaotic
RNDLEVEL:			"castle" "none" @ (-1, 0) 7
CHAINBRANCH:	"Gehennom" "castle" + (0, 0) no_down


# Branch to the endgame...
BRANCH:			"The Elemental Planes" @ (1, 0) no_down up -2


### Gehennom ###
#
# Now re-worked for 3.1, hell is hopefully going to be a little
# less boring.  Also, in 3.1, the tower is not considered as a
# part of hell, but is set up as a separate dungeon.
#
# Gehennom is no longer considered "hellish" as a complete dungeon.
# That is, fire resistance is no longer a condition for survival in
# it.  However, Gehennom, and the special levels in it in particular,
# is abundant with fire traps.  As a result, fire resistance is still
# a prudent survival strategy in Gehennom.
#
# Note:   Gehennom *must* be the second dungeon defined so that
#         monsters can properly migrate here under certain
#         circumstances.
#
# [Tom] tried to remove most of the non-unique levels (i.e. lame mazes)
# also tried to organize it a little -- demons before the wizard, devils
# after.
# made the Gehennom longer again and tried to apply the heck patch --Amy

DUNGEON:        "Gehennom" "G" (25, 0)
DESCRIPTION:    mazelike
DESCRIPTION:    hellish
ALIGNMENT:      noalign
LEVEL:          "valley" "V" @ (1, 0)
LEVEL:          "sanctum" "none" @ (-1, 0)
# Tower before wiz, please
BRANCH:         "Vlad's Tower" @ (3, 17) up -1
# Dr. Frankenstein's Lab
BRANCH:         "Frankenstein's Lab" @ (3, 17) up
# Half-way down
LEVEL:          "wizard1" "none" @ (10, 0)
CHAINLEVEL:     "wizard2" "X" "wizard1" + (1, 0)
CHAINLEVEL:     "wizard3" "Y" "wizard1" + (2, 0)
LEVEL:          "fakewiz1" "F" @ (15, 8)
LEVEL:          "fakewiz2" "G" @ (15, 8)
# The demon levels
LEVEL:          "juiblex" "J" @ (2, 22) 95
LEVEL:          "yeenoghu" "E" @ (2, 22) 95
LEVEL:          "orcus" "O" @ (2, 22) 95
LEVEL:          "demogorg" "D" @ (2, 22) 95
# The devil levels
LEVEL:          "baalz" "B" @ (2, 22) 95
LEVEL:          "geryon" "R" @ (2, 22) 95
LEVEL:          "dispater" "S" @ (2, 22) 95
LEVEL:          "asmodeus" "A" @ (2, 22) 95
RNDLEVEL:	"hellma" "H" @ (2, 22) 75 6
BRANCH:         "Sheol" @ (3, 20) down

RNDLEVEL:          "heck" "Q" @ (2, 22) 90 87
RNDLEVEL:          "heck" "Q" @ (2, 22) 90 87
RNDLEVEL:          "heck" "Q" @ (2, 22) 90 87
RNDLEVEL:          "heck" "Q" @ (2, 22) 90 87
RNDLEVEL:          "heck" "Q" @ (2, 22) 90 87
RNDLEVEL:		"school" "C" @ (2, 22) 20 5

RNDLEVEL:	"ghbgr" "I" @ (2, 22) 90 39

### Gnomish Mines ###
# (The Mines of the Gnomes of Zurich.)
#
DUNGEON:	"The Gnomish Mines" "M" (8, 2)
ALIGNMENT:	lawful
DESCRIPTION:	mazelike
RNDLEVEL:	"minetn" "T" @ (3, 2) 98 9
LEVELDESC:	town
RNDLEVEL:	"minend" "E" @ (-2, 0) 95 3
LEVEL:		"mineking" "M" @ (-1, 0) 90


### The Quest Dungeon ###
#   This is a proto-dungeon.  The level file names will be prepended with
#   the role code (eg, Arc, Val) during initialization.
#   Special "x-fila" and "x-filb" levels must be defined in the levels
#   description file.  It will be used for all levels not defined explicitly
#   below.
DUNGEON:    "The Quest" "Q" (7, 1)
LEVEL:  	"x-strt" "none" @ (1, 1)
LEVEL:  	"x-loca" "L" @ (3, 3)
LEVEL:  	"x-goal" "none" @ (-1, 0)


### The aligned key quests ###
DUNGEON:		"Lawful Quest" "none" (1, 0)
ALIGNMENT:		lawful
DESCRIPTION:	mazelike
LEVEL:			"nightmar" "none" @ (1, 0)

DUNGEON:		"Neutral Quest" "none" (1, 0)
ALIGNMENT:		neutral
DESCRIPTION:	mazelike
LEVEL:			"beholder" "none" @ (1, 0)

DUNGEON:		"Chaotic Quest" "none" (1, 0)
ALIGNMENT:		chaotic
DESCRIPTION:	mazelike
LEVEL:			"lich" "none" @ (1, 0)

#
# Sokoban
#
DUNGEON:		"Sokoban" "O" (4, 0)
DESCRIPTION:    mazelike
ALIGNMENT:      neutral
RNDLEVEL:		"soko1" "A" @ (1, 0) 95 34
RNDLEVEL:		"soko2" "B" @ (2, 0) 95 30
RNDLEVEL:		"soko3" "C" @ (3, 0) 95 14
RNDLEVEL:		"soko4" "D" @ (4, 0) 95 13

#
#   The city of Angband
#
DUNGEON:	"Town" "A" (5, 0)
LEVALIGN:       lawful
RNDLEVEL:       "town" "T" @ (1, 0) 98 2
RNDLEVEL:          "unhck" "X" @ (2, 0) 5 87
RNDLEVEL:	"bigrm" "B" @ (3, 0) 5 21
RNDLEVEL:	"intpla" "J" @ (4, 0) 5 5
LEVEL:		"schoolX" "C" @ (5, 0) 5
LEVELDESC:      town

### Grund's Stronghold ###
DUNGEON:        "Grund's Stronghold" "Z" (1, 0)
ALIGNMENT:      chaotic
DESCRIPTION:    mazelike
RNDLEVEL:       "grund" "Z" @ (1, 0) 40 3

### Fort Ludios ###
# (The Central Vault of Croesus.)
#
DUNGEON:        "Fort Ludios" "K" (1, 0)
DESCRIPTION:    mazelike
ALIGNMENT:      unaligned
LEVEL:          "knox" "K" @ (-1, 0) 50

### The Wyrm Caves ###
DUNGEON:        "The Wyrm Caves" "D" (1, 0)
ALIGNMENT:      chaotic
DESCRIPTION:    mazelike
LEVEL:          "dragons" "D" @ (1, 0) 30

### The Black Market ###
DUNGEON:        "One-eyed Sam's Market" "D" (1, 0)
ALIGNMENT:      chaotic
DESCRIPTION:    mazelike
LEVEL:          "blkmar" "D" @ (1, 0) 20

### The Lost Tomb ###
DUNGEON:        "The Lost Tomb" "L" (1, 0)
ALIGNMENT:      chaotic
DESCRIPTION:    mazelike
LEVEL:          "tomb" "L" @ (1, 0) 15

### The Spider Caves ###
DUNGEON:        "The Spider Caves" "S" (1, 0)
ALIGNMENT:      chaotic
DESCRIPTION:    mazelike
LEVEL:          "spiders" "S" @ (1, 0) 20

### The Sunless Sea ###
DUNGEON:        "The Sunless Sea" "U" (1, 0)
ALIGNMENT:      chaotic
DESCRIPTION:    mazelike
LEVEL:          "sea" "S" @ (1, 0) 20

### The Temple of Moloch ###
DUNGEON:        "The Temple of Moloch" "C" (1, 0)
ALIGNMENT:      chaotic
DESCRIPTION:    mazelike
LEVEL:          "mtemple" "T" @ (1, 0) 25

### The Giant Caverns ###
DUNGEON:        "The Giant Caverns" "H" (1, 0)
ALIGNMENT:      chaotic
DESCRIPTION:    mazelike
LEVEL:          "cav2fill" "H" @ (1, 0) 10

### Vlad's Tower ###
#   It has been removed from Gehennom, and it is surrounded by stone.
DUNGEON:        "Vlad's Tower" "T" (3, 0)
PROTOFILE:      "tower"
DESCRIPTION:    mazelike
ALIGNMENT:      chaotic


### Dr Frankenstein's Lab ###
DUNGEON:        "Frankenstein's Lab" "F" (1, 0)
ALIGNMENT:      chaotic
DESCRIPTION:    mazelike
LEVEL:          "frnknstn" "L" @ (1, 0) 50


DUNGEON:        "Sheol" "V" (6, 2)
ALIGNMENT:      noalign
DESCRIPTION:    hellish
LEVEL:          "sheolfil" "A" @ (1, 0) 95
LEVEL:          "sheolmid" "H" @ (2, 0) 95
LEVEL:          "sheolfil" "B" @ (3, 0) 95
LEVEL:          "sheolfil" "C" @ (4, 0) 95
LEVEL:          "palace_f" "P" @ (-2, 0) 95
LEVEL:          "palace_e" "U" @ (-1, 0) 95


### The Endgame levels ###
#
#	Enter on 2nd level from bottom; 1st (from bottom) is a
#	placeholder for surface level, and should be unreachable.
#	[Note: the name "dummy" is checked for in init_dungeons().]
#
DUNGEON:        "The Elemental Planes" "E" (6, 0)
DESCRIPTION:    mazelike
ALIGNMENT:      unaligned
LEVEL:          "astral" "none" @ (1, 0)
LEVEL:          "water"  "none" @ (2, 0)
LEVEL:          "fire"   "none" @ (3, 0)
LEVEL:          "air"    "none" @ (4, 0)
LEVEL:          "earth"  "none" @ (5, 0)
LEVEL:          "dummy"  "none" @ (6, 0)
